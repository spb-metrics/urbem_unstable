<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="author">Henrique Boaventura</property>
    <property name="comments">uc-03.03.24</property>
    <property name="createdBy">Eclipse BIRT Designer Version 4.4.0.v201405191524 Build &lt;4.4.0.v20140606-1451></property>
    <property name="units">in</property>
    <text-property name="displayName">Template Urbem Paisagem</text-property>
    <property name="layoutPreference">auto layout</property>
    <list-property name="libraries">
        <structure>
            <property name="fileName">../../../../../../gestaoAdministrativa/fontes/RPT/framework/library/urbem.rptlibrary</property>
            <property name="namespace">urbem</property>
        </structure>
    </list-property>
    <parameters>
        <scalar-parameter name="term_user" id="6666">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="exercicio" id="230">
            <property name="hidden">true</property>
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2007</value>
            </simple-property-list>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="cod_acao" id="232">
            <property name="hidden">true</property>
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <simple-property-list name="defaultValue">
                <value type="constant">1411</value>
            </simple-property-list>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="db_conn_url" id="238">
            <property name="hidden">true</property>
            <text-property name="promptText">Connection URL</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">jdbc:postgresql://172.16.30.4:5432/ga_des_mariana_1922_0701</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="codAlmoxarifado" id="386">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="codCentroCusto" id="387">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="codCatalogo" id="71">
            <text-property name="promptText">cod_catalogo da tabela almoxarifado.catalogo_classificacao</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="codClassificacao" id="389">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">0</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="ordenacao" id="390">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <simple-property-list name="defaultValue">
                <value type="constant">ORDER BY catalogo_classificacao.cod_classificacao ASC;</value>
            </simple-property-list>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="descricaoItem" id="391">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Custom</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="filtro" id="392">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <simple-property-list name="defaultValue">
                <value type="constant">inicio</value>
            </simple-property-list>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="periodicidade" id="393">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Custom</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="codItem" id="394">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <simple-property-list name="defaultValue">
                <value type="constant">0</value>
            </simple-property-list>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tipoItem" id="395">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="teste1" id="398">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tipo_relatorio" id="450">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="data_saldo" id="661">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tipo_agrupamento" id="881">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tipo_ordenacao" id="975">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="cgm_usuario" id="1037">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <property name="autoSuggestThreshold">1</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="codTipoNatureza" id="1083">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="codItemSM" id="1158">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <simple-property-list name="defaultValue">
                <value type="constant">0</value>
            </simple-property-list>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="dtIni" id="1192">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="dtFim" id="1193">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="cod_item" id="1412">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">integer</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="inCodNatureza" id="1435">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="inCGM" id="1459">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="stNomCGM" id="1483">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="notaFiscal" id="1485">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="serieNF" id="1486">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="query" id="1499">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="query1" id="1508">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="inCodItemInicial" id="6667">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <simple-property-list name="defaultValue">
                <value type="constant">0</value>
            </simple-property-list>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="inCodItemFinal" id="6668">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <simple-property-list name="defaultValue">
                <value type="constant">0</value>
            </simple-property-list>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="Postgres" id="234" extends="urbem.postgres">
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="RSMovimentacaoEstoque" id="382">
            <list-property name="parameters">
                <structure>
                    <property name="name">dt_saldo</property>
                    <property name="paramName">data_saldo</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_1_1</property>
                    <property name="paramName">cgm_usuario</property>
                    <property name="nativeName"></property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                    <property name="position">2</property>
                    <property name="allowNull">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_1</property>
                    <property name="paramName">cgm_usuario</property>
                    <property name="nativeName"></property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                    <property name="position">3</property>
                    <property name="allowNull">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData"/>
            <method name="beforeOpen"><![CDATA[if(params["codAlmoxarifado"] !="") {
	this.queryText=this.queryText+" AND lancamento_material.cod_almoxarifado in ("+params["codAlmoxarifado"]+")  ";
}

if(params["codCatalogo"] !="") {
	this.queryText=this.queryText+" AND catalogo_item.cod_catalogo = "+params["codCatalogo"]+" ";
}

if(params["codCentroCusto"] !="") {
	this.queryText=this.queryText+" AND lancamento_material.cod_centro in ("+params["codCentroCusto"]+")  ";
}

if(params["inCGM"] !="" &amp;&amp; params["inCGM"].value != null) {
	this.queryText = this.queryText+" AND nota_fiscal_fornecedor.cgm_fornecedor = "+params["inCGM"]+" ";
}

if(params["notaFiscal"] !="" &amp;&amp; params["notaFiscal"].value != null) {
	this.queryText = this.queryText+" AND nota_fiscal_fornecedor.num_nota ilike '%"+params["notaFiscal"]+"%' ";
}

if(params["serieNF"] !="" &amp;&amp; params["serieNF"].value != null) {
	this.queryText = this.queryText+" AND nota_fiscal_fornecedor.num_serie ilike '%"+params["serieNF"]+"%' ";
}

//if(params["codItem"] !="") {
	//this.queryText=this.queryText + params["codItem"] + " ";
//}
if (params["inCodItemInicial"] != "" &amp;&amp; params["inCodItemInicial"] != null &amp;&amp; params["inCodItemFinal"] != "" &amp;&amp; params["inCodItemFinal"] != null ) {
    this.queryText = this.queryText+ " AND lancamento_material.cod_item between "+params['inCodItemInicial']+" and "+params["inCodItemFinal"];
    
} else if (params["inCodItemInicial"] != "" &amp;&amp; params["inCodItemInicial"] != null &amp;&amp; params["inCodItemFinal"] == "" &amp;&amp; params["inCodItemFinal"] == null) {
   this.queryText = this.queryText+ " AND lancamento_material.cod_item = "+params["inCodItemInicial"];
   
} else if (params["inCodItemInicial"] == "" &amp;&amp; params["inCodItemInicial"] == null &amp;&amp; params["inCodItemFinal"] != "" &amp;&amp; params["inCodItemFinal"] != null) {
   this.queryText = this.queryText+ " AND lancamento_material.cod_item = "+params["inCodItemFinal"];
}

if(params["descricaoItem"] !="") {
	this.queryText=this.queryText+" AND catalogo_item.descricao_resumida "+params["descricaoItem"]+" ";
}

//if(params["periodicidade"] != "" )
//{
//	this.queryText = this.queryText + params["periodicidade"];
//}
if (params["dtIni"] != "" &amp;&amp; params["dtFim"] != "" ){
	this.queryText = this.queryText + "AND natureza_lancamento.timestamp::date BETWEEN to_date('"+params["dtIni"]+"','dd/mm/yyyy') AND to_date('"+params["dtFim"]+"','dd/mm/yyyy') ";
} else if  (params["dtIni"] != "" &amp;&amp; params["dtFim"] == "" ){ 
	this.queryText = this.queryText + "AND natureza_lancamento.timestamp::date = to_date('"+params["dtIni"]+"','dd/mm/yyyy')";
} else if  (params["dtIni"] == "" &amp;&amp; params["dtFim"] != "" ){ 
	this.queryText = this.queryText + "AND natureza_lancamento.timestamp::date = to_date('"+params["dtFim"]+"','dd/mm/yyyy')";
}		
 
if( params["codClassificacao"] != "" )
{
	this.queryText = this.queryText + " AND catalogo_classificacao.cod_estrutural LIKE '"+params["codClassificacao"]+"%' ";
} 

if(params["tipoItem"] !="") {
	this.queryText = this.queryText+" AND catalogo_item.cod_tipo = "+params["tipoItem"]+" ";
}

// Filtro pela natureza de entrada do Item
if (params['inCodNatureza'] != "") {
  this.queryText = this.queryText + " AND (" +params['inCodNatureza']+ ") ";
}  

this.queryText = this.queryText + "    GROUP BY catalogo_classificacao.cod_estrutural ";
this.queryText = this.queryText + "    , nota_fiscal_fornecedor.cgm_fornecedor        ";        
this.queryText = this.queryText + "    , nota_fiscal_fornecedor.num_nota              ";
this.queryText = this.queryText + "    , catalogo_item.cod_item                       "; 
this.queryText = this.queryText + "    , catalogo_item.descricao_resumida             "; 
this.queryText = this.queryText + "    , unidade_medida.nom_unidade                   "; 
this.queryText = this.queryText + "    , tipo_item.descricao                          "; 
this.queryText = this.queryText + "    , tipo_item.cod_tipo                           "; 
this.queryText = this.queryText + "    , natureza_lancamento.tipo_natureza            "; 
this.queryText = this.queryText + "    , natureza_lancamento.timestamp                "; 
this.queryText = this.queryText + "    , lancamento_material.cod_almoxarifado         "; 
this.queryText = this.queryText + "    , sw_cgm.nom_cgm                               "; 
this.queryText = this.queryText + "    , lancamento_material.cod_centro               "; 
this.queryText = this.queryText + "    , centro_custo.descricao                       "; 
this.queryText = this.queryText + "    , lancamento_material.cod_marca                "; 
this.queryText = this.queryText + "    , marca.descricao                              "; 
this.queryText = this.queryText + "    , lancamento_material.quantidade               "; 
this.queryText = this.queryText + "    , lancamento_material.cod_lancamento           "; 
this.queryText = this.queryText + "    , lancamento_material.valor_mercado            ";
this.queryText = this.queryText + "    , CASE WHEN (lancamento_material.quantidade <> 0)";
this.queryText = this.queryText + "           THEN (lancamento_material.valor_mercado/lancamento_material.quantidade) ";
this.queryText = this.queryText + "           ELSE 0                                  ";
this.queryText = this.queryText + "      END ";

if(params["tipo_ordenacao"] != "") {
	this.queryText = this.queryText + " ORDER BY " + params["tipo_ordenacao"];
}

params["query1"] = this.queryText;]]></method>
            <property name="dataSetRowLimit">-1</property>
            <property name="dataSource">Postgres</property>
            <xml-property name="queryText"><![CDATA[	SELECT
    	    catalogo_classificacao.cod_estrutural                        AS "Estrutural"
          , nota_fiscal_fornecedor.cgm_fornecedor
          , nota_fiscal_fornecedor.num_nota
    	  , catalogo_item.cod_item                                       AS "Item"
      	  , catalogo_item.descricao_resumida                             AS "Descricao"
     	  , unidade_medida.nom_unidade                                   AS "Unidade de Medida"
      	  , tipo_item.descricao                                          AS "Tipo do Item"
      	  , tipo_item.cod_tipo                                           AS "codTipoItem"
          , natureza_lancamento.tipo_natureza                            AS "Tipo Natureza"
          , natureza_lancamento.timestamp 								 AS "Data"
          , lancamento_material.cod_almoxarifado
          , sw_cgm.nom_cgm AS almoxarifado
          , lancamento_material.cod_centro
          , centro_custo.descricao AS centro_custo
          , lancamento_material.cod_marca
          , marca.descricao AS marca
          , lancamento_material.valor_mercado
          , CASE WHEN (lancamento_material.quantidade <> 0) 
                 THEN (lancamento_material.valor_mercado/lancamento_material.quantidade)
                 ELSE 0
            END as qtde_analitica     
          , CASE WHEN ( natureza_lancamento.tipo_natureza = 'E' )
          	     THEN lancamento_material.quantidade
                 ELSE 0
       	    END as qtde_entrada
      	  , CASE WHEN ( natureza_lancamento.tipo_natureza = 'S' )
                 THEN lancamento_material.quantidade * -1
                 ELSE 0
       		END as qtde_saida

          , ROUND(fn_recupera_valor_unitario_estoque(catalogo_item.cod_item, null), 4) as vl_unitario

          , SUM
            (
                (
                  SELECT  SUM(quantidade) as total
                    FROM  almoxarifado.lancamento_material as sub_lanc
               
              INNER JOIN  almoxarifado.natureza_lancamento
                      ON  natureza_lancamento.exercicio_lancamento = sub_lanc.exercicio_lancamento
                     AND  natureza_lancamento.num_lancamento       = sub_lanc.num_lancamento
                     AND  natureza_lancamento.cod_natureza         = sub_lanc.cod_natureza
                     AND  natureza_lancamento.tipo_natureza        = sub_lanc.tipo_natureza
                   
                   WHERE  sub_lanc.cod_item = lancamento_material.cod_item
                     AND  sub_lanc.cod_almoxarifado = lancamento_material.cod_almoxarifado
                     AND  sub_lanc.cod_centro = lancamento_material.cod_centro
                     AND  natureza_lancamento.timestamp::date <= TO_DATE(?,'dd/mm/yyyy')
                     AND  sub_lanc.cod_marca = lancamento_material.cod_marca
                     AND  sub_lanc.cod_lancamento = lancamento_material.cod_lancamento
                )
            ) as saldo
            
 	   FROM almoxarifado.catalogo_classificacao
       
       JOIN almoxarifado.catalogo_item
         ON catalogo_item.cod_catalogo      =   catalogo_classificacao.cod_catalogo            
   	    AND catalogo_item.cod_classificacao =   catalogo_classificacao.cod_classificacao
        
       JOIN almoxarifado.tipo_item
         ON tipo_item.cod_tipo = catalogo_item.cod_tipo
         
       JOIN administracao.unidade_medida
         ON unidade_medida.cod_unidade  = catalogo_item.cod_unidade
   		AND unidade_medida.cod_grandeza = catalogo_item.cod_grandeza
        
       JOIN almoxarifado.lancamento_material
         ON lancamento_material.cod_item = catalogo_item.cod_item
        
       JOIN almoxarifado.natureza_lancamento
         ON lancamento_material.exercicio_lancamento = natureza_lancamento.exercicio_lancamento
   		AND lancamento_material.num_lancamento       = natureza_lancamento.num_lancamento
   		AND lancamento_material.cod_natureza         = natureza_lancamento.cod_natureza
   		AND lancamento_material.tipo_natureza        = natureza_lancamento.tipo_natureza
       
       JOIN almoxarifado.almoxarifado
 		 ON almoxarifado.cod_almoxarifado = lancamento_material.cod_almoxarifado
 
       JOIN sw_cgm
 		 ON sw_cgm.numcgm = almoxarifado.cgm_almoxarifado
 
       JOIN almoxarifado.marca
 		 ON marca.cod_marca = lancamento_material.cod_marca
 
       JOIN almoxarifado.centro_custo
 		 ON centro_custo.cod_centro = lancamento_material.cod_centro
 
  LEFT JOIN almoxarifado.controle_estoque
         ON controle_estoque.cod_item = lancamento_material.cod_item
  
  LEFT JOIN compras.nota_fiscal_fornecedor
         ON nota_fiscal_fornecedor.exercicio_lancamento = natureza_lancamento.exercicio_lancamento
        AND nota_fiscal_fornecedor.num_lancamento       = natureza_lancamento.num_lancamento
        AND nota_fiscal_fornecedor.cod_natureza         = natureza_lancamento.cod_natureza
        AND nota_fiscal_fornecedor.tipo_natureza        = natureza_lancamento.tipo_natureza
        
  	  WHERE EXISTS ( SELECT 1
					   FROM almoxarifado.permissao_almoxarifados
					  WHERE permissao_almoxarifados.cgm_almoxarife = ?
					    AND permissao_almoxarifados.cod_almoxarifado = almoxarifado.cod_almoxarifado
				    )
		AND EXISTS ( SELECT 1
					   FROM almoxarifado.centro_custo_permissao
					  WHERE centro_custo_permissao.cod_centro = centro_custo.cod_centro
					    AND centro_custo_permissao.numcgm = ?
				   )]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>1.0</Version>
  <design:DataSetParameters>
    <design:parameterDefinitions>
      <design:inOutMode>In</design:inOutMode>
      <design:attributes>
        <design:name></design:name>
        <design:position>2</design:position>
        <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
        <design:nullability>Unknown</design:nullability>
        <design:uiHints/>
      </design:attributes>
      <design:inputAttributes>
        <design:elementAttributes>
          <design:defaultValues>
            <design:values>JS_EXPR</design:values>
          </design:defaultValues>
          <design:optional>true</design:optional>
          <design:masksValue>false</design:masksValue>
          <design:uiHints>
            <design:promptStyle>TextField</design:promptStyle>
          </design:uiHints>
        </design:elementAttributes>
      </design:inputAttributes>
    </design:parameterDefinitions>
  </design:DataSetParameters>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="RSSemMovimentacaoEstoque" id="1117">
            <list-property name="parameters">
                <structure>
                    <property name="name">dtIni</property>
                    <property name="paramName">dtIni</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">dtFim</property>
                    <property name="paramName">dtFim</property>
                    <property name="dataType">string</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">Estrutural</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">Item</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">Descricao</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Unidade de Medida</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">Tipo do Item</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">codTipoItem</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[
  if(params["codCatalogo"] !="") {
	this.queryText=this.queryText+" and catalogo_item.cod_catalogo = "+params["codCatalogo"]+" "
  }

  if( params["codClassificacao"] != "" ){
    this.queryText = this.queryText + " AND catalogo_classificacao.cod_estrutural = '"+params["codClassificacao"]+"'"
  } 

 // if(params["codItemSM"] !="") {
//    this.queryText=this.queryText + params["codItemSM"] + " " 
 // }
  if (params["inCodItemInicial"] != "" &amp;&amp; params["inCodItemInicial"] != null &amp;&amp; params["inCodItemFinal"] != "" &amp;&amp; params["inCodItemFinal"] != null ) {
  	this.queryText = this.queryText+ " AND catalogo_item.cod_item between "+params['inCodItemInicial']+" and "+params["inCodItemFinal"];
  } else if (params["inCodItemInicial"] != "" &amp;&amp; params["inCodItemInicial"] != null &amp;&amp; params["inCodItemFinal"] == "" &amp;&amp; params["inCodItemFinal"] == null) {
	this.queryText = this.queryText+ " AND catalogo_item.cod_item = "+params["inCodItemInicial"];
  } else if (params["inCodItemInicial"] == "" &amp;&amp; params["inCodItemInicial"] == null &amp;&amp; params["inCodItemFinal"] != "" &amp;&amp; params["inCodItemFinal"] != null) {
	this.queryText = this.queryText+ " AND catalogo_item.cod_itemm = "+params["inCodItemFinal"];
  }
  
  if(params["descricaoItem"] !="") {
    this.queryText=this.queryText+" and catalogo_item.descricao_resumida "+params["descricaoItem"]+" "
  }

  if(params["tipoItem"] !="") {
	this.queryText = this.queryText+" AND catalogo_item.cod_tipo = "+params["tipoItem"]+" "
  }

  if(params["tipo_ordenacao"] != "") {
	this.queryText = this.queryText + " ORDER BY " + params["tipo_ordenacao"];
  }

  
params["query"] = this.queryText;]]></method>
            <property name="dataSetRowLimit">-1</property>
            <property name="dataSource">Postgres</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">Estrutural</property>
                    <property name="nativeName">Estrutural</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">Item</property>
                    <property name="nativeName">Item</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">Descricao</property>
                    <property name="nativeName">Descricao</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">Unidade de Medida</property>
                    <property name="nativeName">Unidade de Medida</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">Tipo do Item</property>
                    <property name="nativeName">Tipo do Item</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">codTipoItem</property>
                    <property name="nativeName">codTipoItem</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[SELECT 
		catalogo_classificacao.cod_estrutural		AS "Estrutural"       
      	,catalogo_item.cod_item                     AS "Item"       
      	,catalogo_item.descricao_resumida           AS "Descricao"       
      	,unidade_medida.nom_unidade                 AS "Unidade de Medida"
      	,tipo_item.descricao                        AS "Tipo do Item" 
      	,tipo_item.cod_tipo					        AS "codTipoItem"
  FROM 
  		almoxarifado.catalogo_classificacao
        ,almoxarifado.catalogo_item
        ,almoxarifado.tipo_item
        ,administracao.unidade_medida
 WHERE  
 		catalogo_classificacao.cod_catalogo      = catalogo_item.cod_catalogo
    AND catalogo_classificacao.cod_classificacao = catalogo_item.cod_classificacao
    AND catalogo_item.cod_tipo                   = tipo_item.cod_tipo
    AND unidade_medida.cod_unidade               = catalogo_item.cod_unidade
    AND unidade_medida.cod_grandeza              = catalogo_item.cod_grandeza
    AND NOT EXISTS ( SELECT 1
        	         FROM almoxarifado.lancamento_material
                     INNER JOIN almoxarifado.natureza_lancamento
                     	ON ( lancamento_material.exercicio_lancamento = natureza_lancamento.exercicio_lancamento
                     	AND lancamento_material.num_lancamento        = natureza_lancamento.num_lancamento
                     	AND lancamento_material.cod_natureza          = natureza_lancamento.cod_natureza)
                     WHERE lancamento_material.cod_item = catalogo_item.cod_item
                     AND natureza_lancamento.timestamp::date BETWEEN to_date(?,'dd/mm/yyyy') AND to_date(?,'dd/mm/yyyy') 
					)
        ]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>1.0</Version>
  <design:DataSetParameters>
    <design:parameterDefinitions>
      <design:inOutMode>In</design:inOutMode>
      <design:attributes>
        <design:name></design:name>
        <design:position>5</design:position>
        <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
        <design:nullability>Unknown</design:nullability>
      </design:attributes>
      <design:inputAttributes>
        <design:elementAttributes>
          <design:optional>false</design:optional>
        </design:elementAttributes>
      </design:inputAttributes>
    </design:parameterDefinitions>
  </design:DataSetParameters>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:name>sum</design:name>
            <design:position>1</design:position>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>0</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Unknown</design:nullability>
          </design:attributes>
          <design:usageHints>
            <design:label>sum</design:label>
            <design:formattingHints>
              <design:displaySize>131089</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
    </data-sets>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2">
            <property name="type">a4</property>
            <property name="orientation">landscape</property>
            <property name="topMargin">0.302in</property>
            <property name="leftMargin">0.385in</property>
            <property name="bottomMargin">0.218in</property>
            <property name="rightMargin">0.291in</property>
            <page-header>
                <grid name="Cabecalho Paisagem" id="241" extends="urbem.Cabecalho Paisagem">
                    <property name="width">280mm</property>
                    <overridden-values>
                        <ref-entry baseId="937" id="1194"/>
                        <ref-entry baseId="938" id="1195"/>
                        <ref-entry baseId="939" id="1196"/>
                        <ref-entry baseId="940" id="1197"/>
                        <ref-entry baseId="941" id="1198"/>
                        <ref-entry baseId="942" name="NewText6121" id="1199"/>
                        <ref-entry baseId="943" id="1200"/>
                        <ref-entry baseId="944" name="NewData2111" id="1201"/>
                        <ref-entry baseId="945" id="1202"/>
                        <ref-entry baseId="946" name="NewGrid1" id="946"/>
                        <ref-entry baseId="947" id="1203"/>
                        <ref-entry baseId="948" id="1204"/>
                        <ref-entry baseId="949" id="1205"/>
                        <ref-entry baseId="950" id="1206"/>
                        <ref-entry baseId="951" id="1207"/>
                        <ref-entry baseId="952" id="1208"/>
                        <ref-entry baseId="953" id="1209"/>
                        <ref-entry baseId="954" id="1210"/>
                        <ref-entry baseId="955" name="NewData12121" id="1211"/>
                        <ref-entry baseId="956" id="1212"/>
                        <ref-entry baseId="957" name="NewData14121" id="1213"/>
                        <ref-entry baseId="958" id="958"/>
                        <ref-entry baseId="959" id="1214"/>
                        <ref-entry baseId="960" name="NewData13121" id="1215"/>
                        <ref-entry baseId="961" id="1216"/>
                        <ref-entry baseId="962" name="NewData1521" id="1217"/>
                        <ref-entry baseId="963" id="1218"/>
                        <ref-entry baseId="964" id="964"/>
                        <ref-entry baseId="965" name="NewData11121" id="1219"/>
                        <ref-entry baseId="966" id="966"/>
                        <ref-entry baseId="967" id="1220"/>
                        <ref-entry baseId="968" name="NewData1621" id="968"/>
                        <ref-entry baseId="969" id="1221"/>
                        <ref-entry baseId="970" id="1222"/>
                        <ref-entry baseId="971" name="NewText721" id="1223"/>
                        <ref-entry baseId="972" id="1224"/>
                        <ref-entry baseId="973" name="NewText1121" id="973"/>
                        <ref-entry baseId="974" id="974"/>
                        <ref-entry baseId="975" name="NewLabel2121" id="1225"/>
                        <ref-entry baseId="976" id="1226"/>
                        <ref-entry baseId="977" id="977"/>
                        <ref-entry baseId="978" id="978"/>
                        <ref-entry baseId="979" id="979"/>
                        <ref-entry baseId="980" id="980"/>
                        <ref-entry baseId="981" id="981"/>
                        <ref-entry baseId="982" id="982"/>
                        <ref-entry baseId="983" id="983"/>
                        <ref-entry baseId="984" name="NewData6111" id="984"/>
                        <ref-entry baseId="985" id="985"/>
                        <ref-entry baseId="986" id="986"/>
                        <ref-entry baseId="987" name="NewData3111" id="987"/>
                        <ref-entry baseId="988" id="988"/>
                        <ref-entry baseId="989" id="989"/>
                        <ref-entry baseId="990" name="NewData8111" id="990"/>
                        <ref-entry baseId="991" id="991"/>
                        <ref-entry baseId="992" id="992"/>
                        <ref-entry baseId="993" name="NewData4111" id="993"/>
                        <ref-entry baseId="994" id="994"/>
                        <ref-entry baseId="995" id="995"/>
                        <ref-entry baseId="996" name="NewData5111" id="996"/>
                        <ref-entry baseId="997" id="997"/>
                        <ref-entry baseId="998" id="998"/>
                        <ref-entry baseId="999" name="NewLabel8121" id="999"/>
                    </overridden-values>
                </grid>
            </page-header>
            <page-footer>
                <grid name="Rodape" id="229" extends="urbem.Rodape">
                    <property name="width">280mm</property>
                    <overridden-values>
                        <ref-entry baseId="180" id="180"/>
                        <ref-entry baseId="181" id="181"/>
                        <ref-entry baseId="182" id="182"/>
                        <ref-entry baseId="183" name="NewText2" id="183"/>
                    </overridden-values>
                </grid>
            </page-footer>
        </simple-master-page>
    </page-setup>
    <body>
        <data id="1484">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">9pt</property>
            <property name="fontWeight">bold</property>
            <property name="textAlign">left</property>
            <list-property name="visibility">
                <structure>
                    <property name="format">all</property>
                    <expression name="valueExpr">params["inCGM"].value==""</expression>
                </structure>
            </list-property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">fornecedor</property>
                    <expression name="expression">"Fornecedor: "+params["inCGM"].value+" - "+params["stNomCGM"].value</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <property name="resultSetColumn">fornecedor</property>
        </data>
        <table name="tblItensAnalitica" id="6">
            <property name="height">0.9166666666666666in</property>
            <property name="width">10.958333333333334in</property>
            <property name="dataSet">RSMovimentacaoEstoque</property>
            <list-property name="visibility">
                <structure>
                    <property name="format">all</property>
                    <expression name="valueExpr">params["tipo_relatorio"]!="A"</expression>
                </structure>
            </list-property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">Estrutural</property>
                    <expression name="expression">dataSetRow["Estrutural"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Item</property>
                    <expression name="expression">dataSetRow["Item"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Descricao</property>
                    <expression name="expression">dataSetRow["Descricao"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Unidade Medida</property>
                    <expression name="expression">dataSetRow["Unidade de Medida"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Tipo do Item</property>
                    <expression name="expression">dataSetRow["Tipo do Item"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Data</property>
                    <expression name="expression">dataSetRow["Data"]</expression>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="name">Tipo de Natureza</property>
                    <expression name="expression">dataSetRow["Tipo Natureza"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Quantidade</property>
                    <expression name="expression">if( dataSetRow["Tipo Natureza"] == 'E' ) dataSetRow["qtde_entrada"]; else dataSetRow["qtde_saida"];</expression>
                    <property name="dataType">float</property>
                </structure>
                <structure>
                    <property name="name">vl_unitario</property>
                    <text-property name="displayName">vl_unitario</text-property>
                    <expression name="expression">if (params["tipo_relatorio"] == 'A') {
	dataSetRow["qtde_analitica"] 
} else {
	dataSetRow["vl_unitario"] 
}</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">total</property>
                    <expression name="expression">Total.sum(row['vl_total'])</expression>
                    <property name="dataType">float</property>
                </structure>
                <structure>
                    <property name="name">vl_total</property>
                    <expression name="expression">if( dataSetRow["Tipo Natureza"] == 'E' ) {
	if (params['tipo_relatorio'] == 'A') {
		dataSetRow["valor_mercado"]
	} else {
		dataSetRow["vl_unitario"] * dataSetRow["qtde_entrada"]
	}
}else{
	if (params['tipo_relatorio'] == 'A') {
		dataSetRow["valor_mercado"]
	} else {
		dataSetRow["vl_unitario"] * (dataSetRow["qtde_saida"] * -1)
	}
}</expression>
                    <property name="dataType">float</property>
                </structure>
            </list-property>
            <property name="pageBreakInterval">0</property>
            <column id="40">
                <property name="width">8%</property>
            </column>
            <column id="41">
                <property name="width">5%</property>
            </column>
            <column id="42">
                <property name="width">35%</property>
            </column>
            <column id="43">
                <property name="width">8%</property>
            </column>
            <column id="44">
                <property name="width">8%</property>
            </column>
            <column id="45">
                <property name="width">10%</property>
            </column>
            <column id="46">
                <property name="width">8%</property>
            </column>
            <column id="47">
                <property name="width">8%</property>
            </column>
            <column id="1504">
                <list-property name="visibility">
                    <structure>
                        <property name="format">all</property>
                        <expression name="valueExpr">if(params["inCGM"] !="" &amp;&amp; params["inCGM"].value != null) {
	false;
} else if(params["notaFiscal"] !="" &amp;&amp; params["notaFiscal"].value != null) {
	false;
}else if(params["serieNF"] !="" &amp;&amp; params["serieNF"].value != null) {
	false;
} else {
	true;
}</expression>
                    </structure>
                </list-property>
                <property name="width">0.6979166666666666in</property>
            </column>
            <column id="1232">
                <property name="width">0.90625in</property>
            </column>
            <column id="1344">
                <property name="width">0.9791666666666666in</property>
            </column>
            <header>
                <row id="7">
                    <property name="verticalAlign">middle</property>
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">params["codTipoNatureza"] == "'SM'"</expression>
                        </structure>
                    </list-property>
                    <cell id="8">
                        <property name="paddingBottom">10px</property>
                        <label id="50">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Classificação</text-property>
                        </label>
                    </cell>
                    <cell id="9">
                        <property name="paddingBottom">10px</property>
                        <label id="51">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">center</property>
                            <text-property name="text">Item</text-property>
                        </label>
                    </cell>
                    <cell id="10">
                        <property name="paddingBottom">10px</property>
                        <label id="52">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">left</property>
                            <text-property name="text">Descrição</text-property>
                        </label>
                    </cell>
                    <cell id="11">
                        <property name="paddingBottom">10px</property>
                        <label id="53">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">center</property>
                            <text-property name="text">Unidade de Medida</text-property>
                        </label>
                    </cell>
                    <cell id="12">
                        <property name="paddingBottom">10px</property>
                        <label id="54">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Tipo do Item</text-property>
                        </label>
                    </cell>
                    <cell id="13">
                        <property name="paddingBottom">10px</property>
                        <property name="textAlign">center</property>
                        <label id="55">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Data / Hora</text-property>
                        </label>
                    </cell>
                    <cell id="14">
                        <property name="paddingBottom">10px</property>
                        <property name="textAlign">center</property>
                        <label id="56">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Entrada / Saída</text-property>
                        </label>
                    </cell>
                    <cell id="15">
                        <property name="paddingBottom">10px</property>
                        <property name="textAlign">center</property>
                        <label id="57">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Quantidade</text-property>
                        </label>
                    </cell>
                    <cell id="1501">
                        <property name="paddingBottom">10px</property>
                        <property name="textAlign">center</property>
                        <label id="1506">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Nota Fiscal</text-property>
                        </label>
                    </cell>
                    <cell id="1229">
                        <property name="paddingBottom">10px</property>
                        <property name="textAlign">center</property>
                        <label id="1233">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Valor Unitário</text-property>
                        </label>
                    </cell>
                    <cell id="1341">
                        <property name="paddingBottom">10px</property>
                        <property name="textAlign">center</property>
                        <label id="1345">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Valor Total</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="18">
                    <property name="borderBottomColor">#F4F4F4</property>
                    <property name="borderBottomStyle">solid</property>
                    <property name="borderBottomWidth">thin</property>
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">params["codTipoNatureza"] == "'SM'"</expression>
                        </structure>
                    </list-property>
                    <cell id="19">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <data id="62">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="resultSetColumn">Estrutural</property>
                        </data>
                    </cell>
                    <cell id="20">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <data id="63">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="textAlign">center</property>
                            <property name="resultSetColumn">Item</property>
                        </data>
                    </cell>
                    <cell id="21">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <data id="64">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="resultSetColumn">Descricao</property>
                        </data>
                    </cell>
                    <cell id="22">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <data id="65">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.0000</property>
                            </structure>
                            <property name="resultSetColumn">Unidade Medida</property>
                        </data>
                    </cell>
                    <cell id="23">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <data id="66">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.0000</property>
                            </structure>
                            <property name="resultSetColumn">Tipo do Item</property>
                        </data>
                    </cell>
                    <cell id="24">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <property name="textAlign">right</property>
                        <data id="67">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <structure name="dateTimeFormat">
                                <property name="category">Custom</property>
                                <property name="pattern">dd/MM/yyyy HH:mm</property>
                            </structure>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.0000</property>
                            </structure>
                            <property name="textAlign">center</property>
                            <property name="resultSetColumn">Data</property>
                        </data>
                    </cell>
                    <cell id="25">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <property name="textAlign">right</property>
                        <data id="68">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.0000</property>
                            </structure>
                            <property name="textAlign">center</property>
                            <property name="resultSetColumn">Tipo de Natureza</property>
                        </data>
                    </cell>
                    <cell id="26">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <property name="textAlign">right</property>
                        <data id="69">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.0000</property>
                            </structure>
                            <property name="resultSetColumn">Quantidade</property>
                        </data>
                    </cell>
                    <cell id="1502">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <property name="textAlign">right</property>
                        <data id="1505">
                            <property name="fontSize">8pt</property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">notaFiscal</property>
                                    <expression name="expression">dataSetRow["num_nota"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                            </list-property>
                            <property name="resultSetColumn">notaFiscal</property>
                        </data>
                    </cell>
                    <cell id="1230">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <property name="textAlign">right</property>
                        <data id="1238">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.0000</property>
                            </structure>
                            <property name="resultSetColumn">vl_unitario</property>
                        </data>
                    </cell>
                    <cell id="1342">
                        <property name="paddingTop">2px</property>
                        <property name="paddingLeft">2px</property>
                        <property name="paddingBottom">2px</property>
                        <property name="paddingRight">2px</property>
                        <property name="textAlign">right</property>
                        <data id="1346">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.00</property>
                            </structure>
                            <property name="resultSetColumn">vl_total</property>
                        </data>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="29">
                    <cell id="30">
                        <property name="colSpan">10</property>
                        <property name="rowSpan">1</property>
                        <label id="1241">
                            <property name="backgroundColor">#F4F4F4</property>
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">10pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="borderBottomColor">#BFBFBF</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">thin</property>
                            <property name="borderLeftColor">#BFBFBF</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">thin</property>
                            <property name="borderRightColor">#BFBFBF</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">thin</property>
                            <property name="borderTopColor">#BFBFBF</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">thin</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Total</text-property>
                        </label>
                    </cell>
                    <cell id="1343">
                        <data id="1242">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">10pt</property>
                            <property name="fontWeight">bold</property>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.00</property>
                            </structure>
                            <property name="textAlign">right</property>
                            <property name="resultSetColumn">total</property>
                        </data>
                    </cell>
                </row>
            </footer>
        </table>
        <table id="1120">
            <property name="height">1in</property>
            <property name="width">11.0217391304in</property>
            <property name="dataSet">RSSemMovimentacaoEstoque</property>
            <list-property name="visibility">
                <structure>
                    <property name="format">all</property>
                    <expression name="valueExpr">params["tipo_relatorio"] != 'A'</expression>
                </structure>
            </list-property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">Estrutural</property>
                    <expression name="expression">dataSetRow["Estrutural"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Item</property>
                    <expression name="expression">dataSetRow["Item"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Descricao</property>
                    <expression name="expression">dataSetRow["Descricao"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Unidade de Medida</property>
                    <expression name="expression">dataSetRow["Unidade de Medida"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Tipo do Item</property>
                    <expression name="expression">dataSetRow["Tipo do Item"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">codTipoItem</property>
                    <expression name="expression">dataSetRow["codTipoItem"]</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <property name="pageBreakInterval">0</property>
            <column id="1142">
                <property name="width">1.1847826087in</property>
            </column>
            <column id="1143">
                <property name="width">0.8586956522in</property>
            </column>
            <column id="1144">
                <property name="width">6.2173913043in</property>
            </column>
            <column id="1145">
                <property name="width">1.4239130435in</property>
            </column>
            <column id="1146">
                <property name="width">1.3369565217in</property>
            </column>
            <header>
                <row id="1121">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">params["codTipoNatureza"] != "'SM'"</expression>
                        </structure>
                    </list-property>
                    <cell id="1122">
                        <label id="1148">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Classificação</text-property>
                        </label>
                    </cell>
                    <cell id="1123">
                        <label id="1149">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">center</property>
                            <text-property name="text">Item</text-property>
                        </label>
                    </cell>
                    <cell id="1124">
                        <label id="1150">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Descrição</text-property>
                        </label>
                    </cell>
                    <cell id="1125">
                        <label id="1151">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Unidade de Medida</text-property>
                        </label>
                    </cell>
                    <cell id="1126">
                        <label id="1152">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Tipo do Item</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="1128">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">params["codTipoNatureza"] != "'SM'"</expression>
                        </structure>
                    </list-property>
                    <cell id="1129">
                        <property name="borderBottomColor">#C0C0C0</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">thin</property>
                        <data id="1153">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="resultSetColumn">Estrutural</property>
                        </data>
                    </cell>
                    <cell id="1130">
                        <property name="borderBottomColor">#C0C0C0</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">thin</property>
                        <data id="1154">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="textAlign">center</property>
                            <property name="resultSetColumn">Item</property>
                        </data>
                    </cell>
                    <cell id="1131">
                        <property name="borderBottomColor">#C0C0C0</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">thin</property>
                        <data id="1155">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="resultSetColumn">Descricao</property>
                        </data>
                    </cell>
                    <cell id="1132">
                        <property name="borderBottomColor">#C0C0C0</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">thin</property>
                        <data id="1156">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="resultSetColumn">Unidade de Medida</property>
                        </data>
                    </cell>
                    <cell id="1133">
                        <property name="borderBottomColor">#C0C0C0</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">thin</property>
                        <data id="1157">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="resultSetColumn">Tipo do Item</property>
                        </data>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="1135">
                    <property name="height">0.25in</property>
                    <cell id="1136"/>
                    <cell id="1137"/>
                    <cell id="1138"/>
                    <cell id="1139"/>
                    <cell id="1140"/>
                </row>
            </footer>
        </table>
        <table id="891">
            <property name="height">3.2291666666666665in</property>
            <property name="width">10.989583333333334in</property>
            <property name="dataSet">RSMovimentacaoEstoque</property>
            <list-property name="visibility">
                <structure>
                    <property name="format">all</property>
                    <expression name="valueExpr">params["tipo_relatorio"] != 'S'</expression>
                </structure>
            </list-property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">Estrutural</property>
                    <expression name="expression">dataSetRow["Estrutural"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Item</property>
                    <expression name="expression">dataSetRow["Item"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Descricao</property>
                    <expression name="expression">dataSetRow["Descricao"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Unidade de Medida</property>
                    <expression name="expression">dataSetRow["Unidade de Medida"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Tipo do Item</property>
                    <expression name="expression">dataSetRow["Tipo do Item"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">codTipoItem</property>
                    <expression name="expression">dataSetRow["codTipoItem"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Tipo Natureza</property>
                    <expression name="expression">dataSetRow["Tipo Natureza"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Data</property>
                    <expression name="expression">dataSetRow["Data"]</expression>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="name">cod_almoxarifado</property>
                    <expression name="expression">dataSetRow["cod_almoxarifado"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">almoxarifado</property>
                    <expression name="expression">dataSetRow["almoxarifado"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">cod_centro</property>
                    <expression name="expression">dataSetRow["cod_centro"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">centro_custo</property>
                    <expression name="expression">dataSetRow["centro_custo"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">cod_marca</property>
                    <expression name="expression">dataSetRow["cod_marca"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">marca</property>
                    <expression name="expression">dataSetRow["marca"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">qtde_entrada_marca</property>
                    <expression name="expression">Total.sum(dataSetRow["qtde_entrada"], dataSetRow["qtde_entrada"] > 0, 4)</expression>
                    <property name="dataType">decimal</property>
                    <simple-property-list name="aggregateOn">
                        <value>grupo_marca</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="name">qtde_saida_marca</property>
                    <expression name="expression">Total.sum(dataSetRow["qtde_saida"], dataSetRow["qtde_saida"] > 0, 4)</expression>
                    <property name="dataType">decimal</property>
                    <simple-property-list name="aggregateOn">
                        <value>grupo_marca</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="name">qtde_saida_item</property>
                    <expression name="expression">Total.sum(dataSetRow["qtde_saida"], dataSetRow["qtde_saida"] > 0, 3)</expression>
                    <property name="dataType">decimal</property>
                    <simple-property-list name="aggregateOn">
                        <value>grupo_item</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="name">qtde_entrada_item</property>
                    <expression name="expression">Total.sum(dataSetRow["qtde_entrada"], dataSetRow["qtde_entrada"] > 0, 3)</expression>
                    <property name="dataType">decimal</property>
                    <simple-property-list name="aggregateOn">
                        <value>grupo_item</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="name">qtde_entrada_total</property>
                    <expression name="expression">Total.sum(dataSetRow["qtde_entrada"],3)</expression>
                    <property name="dataType">decimal</property>
                    <simple-property-list name="aggregateOn">
                        <value>grupo_item</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="name">qtde_saida_total</property>
                    <expression name="expression">Total.sum(dataSetRow["qtde_saida"],3)</expression>
                    <property name="dataType">decimal</property>
                    <simple-property-list name="aggregateOn">
                        <value>grupo_item</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="name">almoxarifado_desc</property>
                    <expression name="expression">'Almoxarifado: '+dataSetRow["cod_almoxarifado"]+' - '+dataSetRow["almoxarifado"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">centro_desc</property>
                    <expression name="expression">"Centro de Custo: "+dataSetRow["cod_centro"]+' - '+dataSetRow["centro_custo"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">item_desc</property>
                    <expression name="expression">dataSetRow["Item"]+' - '+dataSetRow["Descricao"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">marca_desc</property>
                    <expression name="expression">"Marca: "+dataSetRow["cod_marca"]+' - '+dataSetRow["marca"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">vl_unitario</property>
                    <expression name="expression">dataSetRow['vl_unitario']</expression>
                    <property name="dataType">float</property>
                </structure>
                <structure>
                    <property name="name">saldo</property>
                    <expression name="expression">dataSetRow['saldo']</expression>
                    <property name="dataType">float</property>
                </structure>
                <structure>
                    <property name="name">vl_total</property>
                    <expression name="expression">dataSetRow["vl_unitario"]*dataSetRow["saldo"]</expression>
                    <property name="dataType">float</property>
                </structure>
            </list-property>
            <property name="pageBreakInterval">0</property>
            <list-property name="sort">
                <structure>
                    <expression name="key">row["Data"]</expression>
                    <property name="direction">asc</property>
                </structure>
                <structure>
                    <expression name="key">if( params["tipo_ordenacao"].match('classificacao') != null )
{
	row["Estrutural"]
}
if( params["tipo_ordenacao"].match('descricao') != null )
{
	row["Descricao"]
}
if( params["tipo_ordenacao"].match('item') != null )
{
	row["Item"]
}</expression>
                    <property name="direction">asc</property>
                </structure>
            </list-property>
            <column id="907">
                <property name="width">4.6875in</property>
            </column>
            <column id="908">
                <property name="width">35mm</property>
            </column>
            <column id="909">
                <property name="width">1.1041666666666667in</property>
            </column>
            <column id="910">
                <property name="width">1.28125in</property>
            </column>
            <column id="1255">
                <property name="width">1.2604166666666667in</property>
            </column>
            <column id="1358">
                <property name="width">1.2604166666666667in</property>
            </column>
            <header>
                <row id="892">
                    <cell id="893"/>
                    <cell id="894">
                        <property name="verticalAlign">bottom</property>
                        <label id="970">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Entrada</text-property>
                        </label>
                    </cell>
                    <cell id="895">
                        <property name="verticalAlign">bottom</property>
                        <label id="971">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Saida</text-property>
                        </label>
                    </cell>
                    <cell id="896">
                        <property name="verticalAlign">bottom</property>
                        <text-data id="972">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <expression name="valueExpr">'Saldo em ' + params["data_saldo"]</expression>
                            <property name="contentType">html</property>
                        </text-data>
                    </cell>
                    <cell id="1243">
                        <property name="verticalAlign">bottom</property>
                        <label id="1256">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Valor Unitário</text-property>
                        </label>
                    </cell>
                    <cell id="1347">
                        <property name="verticalAlign">bottom</property>
                        <label id="1359">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">8pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Valor Total</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <group id="911">
                <property name="groupName">almoxarifado_group</property>
                <property name="interval">none</property>
                <property name="sortDirection">asc</property>
                <expression name="keyExpr">row["cod_almoxarifado"]</expression>
                <structure name="toc">
                    <expression name="expressionValue">row["cod_almoxarifado"]</expression>
                </structure>
                <property name="repeatHeader">true</property>
                <property name="hideDetail">false</property>
                <property name="pageBreakAfter">auto</property>
                <property name="pageBreakBefore">auto</property>
                <list-property name="sort">
                    <structure>
                        <expression name="key">row["cod_almoxarifado"]</expression>
                        <property name="direction">asc</property>
                    </structure>
                </list-property>
                <header>
                    <row id="912">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">params["tipo_agrupamento"].match('almoxarifado') == null</expression>
                            </structure>
                        </list-property>
                        <cell id="913">
                            <property name="colSpan">6</property>
                            <property name="rowSpan">1</property>
                            <property name="backgroundColor">#F4F4F4</property>
                            <property name="fontWeight">bold</property>
                            <property name="borderBottomColor">#BFBFBF</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">thin</property>
                            <property name="borderLeftColor">#BFBFBF</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">thin</property>
                            <property name="borderRightColor">#BFBFBF</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">thin</property>
                            <property name="borderTopColor">#BFBFBF</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">thin</property>
                            <data id="963">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <property name="marginLeft">0pt</property>
                                <property name="resultSetColumn">almoxarifado_desc</property>
                            </data>
                        </cell>
                    </row>
                </header>
                <footer>
                    <row id="917">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">true</expression>
                            </structure>
                        </list-property>
                        <cell id="918">
                            <property name="colSpan">5</property>
                            <property name="rowSpan">1</property>
                            <label id="1321">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <property name="fontWeight">bold</property>
                                <property name="paddingTop">5pt</property>
                                <property name="textAlign">right</property>
                                <text-property name="text">Subtotal por Almoxarifado</text-property>
                            </label>
                        </cell>
                        <cell id="1356"/>
                    </row>
                    <row id="1362">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">params["tipo_agrupamento"].match('almoxarifado') == null</expression>
                            </structure>
                        </list-property>
                        <cell id="1363">
                            <property name="colSpan">6</property>
                            <property name="rowSpan">1</property>
                            <label id="1369"/>
                        </cell>
                    </row>
                </footer>
            </group>
            <group id="923">
                <property name="groupName">grupo_centrocusto</property>
                <property name="interval">none</property>
                <property name="sortDirection">asc</property>
                <expression name="keyExpr">row["cod_centro"]</expression>
                <structure name="toc">
                    <expression name="expressionValue">row["cod_centro"]</expression>
                </structure>
                <property name="repeatHeader">true</property>
                <property name="hideDetail">false</property>
                <property name="pageBreakAfter">auto</property>
                <property name="pageBreakBefore">auto</property>
                <property name="pageBreakInside">auto</property>
                <header>
                    <row id="924">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">params["tipo_agrupamento"].match('centrocusto') == null</expression>
                            </structure>
                        </list-property>
                        <cell id="925">
                            <data id="965">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <property name="fontWeight">bold</property>
                                <property name="marginLeft">0px</property>
                                <property name="resultSetColumn">centro_desc</property>
                            </data>
                        </cell>
                        <cell id="926"/>
                        <cell id="927"/>
                        <cell id="928"/>
                        <cell id="1245"/>
                        <cell id="1349"/>
                    </row>
                </header>
                <footer>
                    <row id="1395">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">params["tipo_agrupamento"].match('centrocusto') == null</expression>
                            </structure>
                        </list-property>
                        <cell id="1396">
                            <property name="colSpan">6</property>
                            <property name="rowSpan">1</property>
                        </cell>
                    </row>
                    <row id="929">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">true</expression>
                            </structure>
                        </list-property>
                        <cell id="930">
                            <property name="colSpan">5</property>
                            <property name="rowSpan">1</property>
                            <label id="1283">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <property name="fontWeight">bold</property>
                                <property name="paddingTop">5pt</property>
                                <property name="textAlign">right</property>
                                <text-property name="text">Subtotal por Centro de Custo</text-property>
                            </label>
                        </cell>
                        <cell id="1355"/>
                    </row>
                </footer>
            </group>
            <group id="935">
                <property name="groupName">grupo_item</property>
                <property name="interval">none</property>
                <property name="sortDirection">asc</property>
                <expression name="keyExpr">row["Item"]</expression>
                <structure name="toc">
                    <expression name="expressionValue">row["Item"]</expression>
                </structure>
                <property name="repeatHeader">true</property>
                <property name="hideDetail">false</property>
                <property name="pageBreakAfter">auto</property>
                <property name="pageBreakBefore">auto</property>
                <list-property name="sort">
                    <structure>
                        <expression name="key">if( params["tipo_ordenacao"] == 'estrutural' )
{
	row["Estrutural"]
}
if( params["tipo_ordenacao"] == 'codigo' )
{
	row["Item"]
}	
if( params["tipo_ordenacao"] == 'descricao' )
{
	row["Descricao"]
}</expression>
                        <property name="direction">asc</property>
                    </structure>
                </list-property>
                <header>
                    <row id="936">
                        <cell id="937">
                            <data id="967">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <property name="marginTop">0pt</property>
                                <property name="marginLeft">0px</property>
                                <property name="resultSetColumn">item_desc</property>
                            </data>
                        </cell>
                        <cell id="938">
                            <data id="1019">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <structure name="numberFormat">
                                    <property name="category">Currency</property>
                                    <property name="pattern">#,##0.0000</property>
                                </structure>
                                <property name="textAlign">right</property>
                                <property name="resultSetColumn">qtde_entrada_item</property>
                            </data>
                        </cell>
                        <cell id="939">
                            <data id="1018">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <structure name="numberFormat">
                                    <property name="category">Currency</property>
                                    <property name="pattern">#,##0.0000</property>
                                </structure>
                                <property name="textAlign">right</property>
                                <property name="resultSetColumn">qtde_saida_item</property>
                            </data>
                        </cell>
                        <cell id="940">
                            <data id="1035">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <structure name="numberFormat">
                                    <property name="category">Currency</property>
                                    <property name="pattern">#,##0.0000</property>
                                </structure>
                                <property name="textAlign">right</property>
                                <property name="resultSetColumn">saldo</property>
                            </data>
                        </cell>
                        <cell id="1246">
                            <data id="1410">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <structure name="numberFormat">
                                    <property name="category">Currency</property>
                                    <property name="pattern">#,##0.0000</property>
                                </structure>
                                <property name="textAlign">right</property>
                                <property name="resultSetColumn">vl_unitario</property>
                            </data>
                        </cell>
                        <cell id="1350">
                            <data id="1432">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <structure name="numberFormat">
                                    <property name="category">Currency</property>
                                    <property name="pattern">#,##0.00</property>
                                </structure>
                                <property name="textAlign">right</property>
                                <property name="resultSetColumn">vl_total</property>
                            </data>
                        </cell>
                    </row>
                </header>
                <footer>
                    <row id="941">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">params["tipo_agrupamento"].match('marca') == null</expression>
                            </structure>
                        </list-property>
                        <cell id="942">
                            <property name="colSpan">6</property>
                            <property name="rowSpan">1</property>
                            <property name="borderBottomColor">#C0C0C0</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">thin</property>
                        </cell>
                    </row>
                </footer>
            </group>
            <group id="947">
                <property name="groupName">grupo_marca</property>
                <property name="interval">none</property>
                <property name="sortDirection">asc</property>
                <expression name="keyExpr">row["cod_marca"]</expression>
                <structure name="toc">
                    <expression name="expressionValue">row["cod_marca"]</expression>
                </structure>
                <property name="repeatHeader">true</property>
                <property name="hideDetail">false</property>
                <property name="pageBreakAfter">auto</property>
                <property name="pageBreakBefore">auto</property>
                <list-property name="sort">
                    <structure>
                        <expression name="key">row["marca"]</expression>
                        <property name="direction">asc</property>
                    </structure>
                </list-property>
                <header>
                    <row id="948">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">params["tipo_agrupamento"].match('marca') == null</expression>
                            </structure>
                        </list-property>
                        <cell id="949">
                            <data id="969">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <property name="marginTop">0pt</property>
                                <property name="marginLeft">0px</property>
                                <property name="marginBottom">0pt</property>
                                <property name="textAlign">left</property>
                                <property name="resultSetColumn">marca_desc</property>
                            </data>
                        </cell>
                        <cell id="950">
                            <data id="1016">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <structure name="numberFormat">
                                    <property name="category">Currency</property>
                                    <property name="pattern">#,##0.0000</property>
                                </structure>
                                <property name="textAlign">right</property>
                                <property name="resultSetColumn">qtde_entrada_marca</property>
                            </data>
                        </cell>
                        <cell id="951">
                            <data id="1017">
                                <property name="fontFamily">sans-serif</property>
                                <property name="fontSize">8pt</property>
                                <structure name="numberFormat">
                                    <property name="category">Currency</property>
                                    <property name="pattern">#,##0.0000</property>
                                </structure>
                                <property name="textAlign">right</property>
                                <property name="resultSetColumn">qtde_saida_marca</property>
                            </data>
                        </cell>
                        <cell id="952"/>
                        <cell id="1247"/>
                        <cell id="1351"/>
                    </row>
                </header>
                <footer>
                    <row id="953">
                        <list-property name="visibility">
                            <structure>
                                <property name="format">all</property>
                                <expression name="valueExpr">true</expression>
                            </structure>
                        </list-property>
                        <cell id="954">
                            <property name="colSpan">6</property>
                            <property name="rowSpan">1</property>
                        </cell>
                    </row>
                </footer>
            </group>
            <detail>
                <row id="897">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">true</expression>
                        </structure>
                    </list-property>
                    <cell id="898">
                        <property name="colSpan">6</property>
                        <property name="rowSpan">1</property>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="902">
                    <property name="backgroundColor">#F4F4F4</property>
                    <property name="borderBottomColor">#CCCCCC</property>
                    <property name="borderBottomStyle">solid</property>
                    <property name="borderBottomWidth">1px</property>
                    <property name="borderLeftColor">#CCCCCC</property>
                    <property name="borderLeftStyle">solid</property>
                    <property name="borderLeftWidth">1px</property>
                    <property name="borderRightColor">#CCCCCC</property>
                    <property name="borderRightStyle">solid</property>
                    <property name="borderRightWidth">1px</property>
                    <property name="borderTopColor">#CCCCCC</property>
                    <property name="borderTopStyle">solid</property>
                    <property name="borderTopWidth">1px</property>
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">true</expression>
                        </structure>
                    </list-property>
                    <cell id="903">
                        <property name="colSpan">5</property>
                        <property name="rowSpan">1</property>
                        <property name="backgroundColor">#F4F4F4</property>
                        <label id="1270">
                            <property name="fontFamily">sans-serif</property>
                            <property name="fontSize">10pt</property>
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">right</property>
                            <text-property name="text">Total</text-property>
                        </label>
                    </cell>
                    <cell id="1357"/>
                </row>
            </footer>
        </table>
        <label id="1434"/>
    </body>
</report>
